<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        >
        <script src="https://unpkg.com/alpinejs"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <title>Slider</title>
    </head>

    <body>
        <div class="flex justify-center items-center bg-gray-200 min-h-screen">
            <div
                class="bg-white shadow rounded-lg max-w-sm overflow-hidden lg"
                x-data="{
                    slides: [
                    'https://picsum.photos/800/400',
                    'https://picsum.photos/801/401',
                    'https://picsum.photos/802/402',
                    'https://picsum.photos/803/403',
                    'https://picsum.photos/804/404',
                    ],
                    index: 0,
                    delay: 1500,
                    resetDelay(){
                        this.delay = 1500
                    },
                    next(){
                         if(this.index===this.slides.length - 1){
                            this.index = 0
                        } else{
                            this.index += 1
                        }
                    },
                    prev(){
                         if(this.index===0){
                            this.index===this.slides.length - 1
                        } else{
                            this.index -= 1
                        }
                    }
            }"
                x-init="()=>{
                $watch('index', ()=> resetDelay())
                setInterval(() => {
                    delay -= 10
                    if (delay === 0) {
                       next()
                    }
                }, 10)
            }"
            >
                <ul class="relative">
                    <template x-for="(i, j) in slides">
                        <li x-bind:class="{'absolute inset-0 opacity-0': j !== index}">
                            <img
                                x-bind:src="i"
                                alt="test"
                            >
                        </li>
                    </template>
                </ul>
                <div class="flex justify-between items-center">
                    <button
                        class="border-gray-100 bg-gray-50/50 p-3 border-r"
                        type="button"
                        @click="prev()"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="w-6 h-6"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                            />
                        </svg>
                    </button>
                    <div class="flex gap-x-1.5">
                        <template x-for="(i,j) in slides">
                            <button
                                class="rounded-full w-3 h-3"
                                type="button"
                                :class="j===index? 'bg-blue-500': 'bg-gray-300'"
                                @click="index=j"
                            ></button>
                        </template>
                    </div>
                    <button
                        class="border-gray-100 bg-gray-50/50 p-3 border-r"
                        type="button"
                        @click="next()"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="w-6 h-6"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                            />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <hr>
        <div
            x-data="{
            state: 0,
            list: [
                'https://picsum.photos/300/300',
                'https://picsum.photos/300/301',
                'https://picsum.photos/300/302',
                'https://picsum.photos/300/303',
                'https://picsum.photos/300/304',
                'https://picsum.photos/300/305',
                'https://picsum.photos/300/306',
            ],

            }"
            x-init="()=>{setInterval(()=>state===(list.length-1) ? state=0 : state++, 3000)}"
            class="flex justify-center items-center bg-sky-100 h-screen"
        >
            <div class="relative flex justify-center items-center bg-blue-200 rounded-2xl overflow-hidden">
                <template x-for="i,j in list">
                    <img
                        :src="i"
                        class="w-64 h-40"
                        x-show="state === j"
                    >
                    <div
                        class="top-1 absolute"
                        x-text="${i}"
                        x-show="state===0"
                    ></div>
                </template>
                <div
                    class="left-1 absolute"
                    @click="state===0? state=0 : state--"
                ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 16 16"
                        fill="currentColor"
                        class="text-white size-5"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm10.25.75a.75.75 0 0 0 0-1.5H6.56l1.22-1.22a.75.75 0 0 0-1.06-1.06l-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5a.75.75 0 1 0 1.06-1.06L6.56 8.75h4.69Z"
                            clip-rule="evenodd"
                        />
                    </svg>
                </div>
                <div
                    class="right-1 absolute"
                    @click="state === (list.length-1) ? state=0 : state++"
                ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 16 16"
                        fill="currentColor"
                        class="text-white size-5"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M15 8A7 7 0 1 0 1 8a7 7 0 0 0 14 0ZM4.75 7.25a.75.75 0 0 0 0 1.5h4.69L8.22 9.97a.75.75 0 1 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06l-2.5-2.5a.75.75 0 0 0-1.06 1.06l1.22 1.22H4.75Z"
                            clip-rule="evenodd"
                        />
                    </svg>

                </div>
                <div class="bottom-1 absolute flex space-x-1">
                    <template x-for="i,j in list">
                        <div
                            class="bg-gray-400 rounded-full size-3"
                            :class="{'bg-green-500': state === j}"
                            @click="state = j"
                        ></div>
                        <!-- <div x-text="list.length"></div> -->
                    </template>
                </div>
            </div>
        </div>
    </body>

</html>